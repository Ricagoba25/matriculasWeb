<!DOCTYPE html>
<html lang="es-MX">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Registro Voluntarios</title>
  <link rel="stylesheet" href="css/bootstrap.css">

  <style>
body{
background-color:#635B7E ;

}
form{
  
  background-color:#9A9A9A ;
  padding: 30px;
}

table{
  
  background-color: #9A9A9A;
  margin: 30px;
}


  </style>
</head>

<body>
  <header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <H1><img src="img/LOGO_SIGEV.png" alt="Logo" width="80" height="80" class="d-inline-block align-text-top"> SIGEV </H1> 
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link" href="inicio.html">Inicio</a>
          <a class="nav-link active" aria-current="page" href="#">Tablas</a>
          <a class="nav-link" href="http://www.utez.edu.mx/index.php/servpestu"target="_blank">UTEZ</a>

        </div>
      </div>
    </div>
  </nav>
</header>
  <div class="container">
    <div class="row">
      <!--Aqui hare mi formulario-->
      <div class="col col-md-4">
        <br><br>
        <h1 style="color:white">
          <center>Nuevo Voluntario</center>
        </h1>

        <form action="#" method="get">
          <div class="mb-3">
            <label for="nombreVoluntario" class="form-label" style="color:white" >Nombres</label>
            <input type="text" class="form-control" name="nombreVoluntario" id="nombreVoluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaMerca" style="color:black" class="form-text">Aqui va tu nombrey/onombres mi voluntario c: </div>
          </div>

          <div class="mb-3">
            <label for="apellido1Voluntario" class="form-label" style="color:white">Apellido 1</label>
            <input type="text" class="form-control" name="apellido1Voluntario" id="apellido1Voluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaVoluntario" style="color:black" class="form-text">Aqui va tu Apellido Paterno.</div>
          </div>
          
          <div class="mb-3">
            <label for="apellido2Voluntario" class="form-label" style="color:white">Apellido 2</label>
            <input type="text" class="form-control" name="apellido2Voluntario" id="apellido2Voluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaVoluntario" style="color:black" class="form-text">Aqui va tu Apellido Materno.</div>
          </div>

  <div class="mb-3">
          <label for="sexoVoluntario" class="form-label" style="color:white" >Selecciona el sexo</label>
          <select class="form-select" name="SexoVoluntario" id="SexoVoluntario" aria-label="Default select example">
            <option selected>Selecciona Sexo</option>
            <option value="H">Hombre</option>
            <option value="M">Mujer</option>
          </select>
        
        </div>

          <div class="mb-3">
            <label for="curpVoluntario" class="form-label" style="color:white">CURP</label>
            <input type="text" class="form-control" name="curpVoluntario" id="curpVoluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaVoluntario" style="color:black" class="form-text">Aqui va tu CURP mi friend</div>
          </div>

          <div class="mb-3">
            <label for="telefonoVoluntario" class="form-label" style="color:white">Telefono</label>
            <input type="number" class="form-control" name="telefonoVoluntario" id="telefonoVoluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaVoluntario" style="color:black" class="form-text">Aqui va tu numero de celular</div>
          </div>

          <div class="mb-3">
            <label for="correoVoluntario" class="form-label" style="color:white">Correo</label>
            <input type="email" class="form-control" name="correoVoluntario" id="correoVoluntario" aria-describedby="ayudaVoluntario">
            <div id="ayudaVoluntario" style="color:black" class="form-text">Aqui va tu correo personal c:</div>
          </div>


          
          <button id="registro" type="submit" class="btn btn-primary">Registrar</button>


        </form>
        <br><br><br>
      </div>
      <!--Aqui hare mi tabla-->
      <div class="col col-md-8">
        <br><br>
        <h1 style="color: white">
          <center>Registros De Voluntarios</center>
        </h1>
        <br>
        <table class="table table-striped table-hover" id="tabla">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombres</th>
              <th scope="col">Apellido1</th>
              <th scope="col">Apellido2</th>
              <th scope="col">Sexo</th>
              <th scope="col">CURP</th>
              <th scope="col">Teléfono</th>
              <th scope="col">Correo</th>
            </tr>
          </thead>
          <tbody id="cuerpoTabla">
            <tr>
              <th scope="row">1</th>
              <td>Uriel</td>
              <td>Gómez</td>
              <td>Soriano</td>
              <td>H</td>
              <td>GOSU02332FDJFH23</td>
              <td>7772737845</td>
              <td>uri.gosu@gmail.com</td>
              <td><a onclick="eliminar(this);">Eliminar</a></td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Janeth</td>
              <td>Hernandez</td>
              <td>Victoriano</td>
              <td>M</td>
              <td>JANE476HJDJ4343</td>
              <td>7772754657</td>
              <td>jan.vic@gmail.com</td>
              
              <td><a onclick="eliminar(this);">Eliminar</a></td>
            </tr>
           
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    getParameter = (key) => {
      address = window.location.search; // url de la ventana actual
      // Objeto de tipo URLSearchParams
      parameterList = new URLSearchParams(address);
      // Regresa el valor del parámetro “key”
      return parameterList.get(key);
    }

    function registrarProducto() {

      /*Obtener los anteriores
      var datos = document.getElementsByTagName("table")[0].rows;
      var data = {}
      Array.from(datos).forEach(element => {
        console.log(element.innerHTML);
      });*/

      var nombreVoluntario = getParameter("nombreVoluntario");
      var apellido1Voluntario = getParameter("apellido1Voluntario");
      var apellido2Voluntario = getParameter("apellido2Voluntario");
      var SexoVoluntario = getParameter("SexoVoluntario");
      var curpVoluntario = getParameter("curpVoluntario");
      var telefonoVoluntario = getParameter("telefonoVoluntario");
      var correoVoluntario = getParameter("correoVoluntario");
     
    i = 2



      if (nombreVoluntario != null && apellido1Voluntario  != null &&  apellido2Voluntario != null  
        && curpVoluntario!= null && telefonoVoluntario!= null && correoVoluntario!= null) {

        if (nombreVoluntario != "" && apellido1Voluntario  != "" &&  apellido2Voluntario != "" 
        && curpVoluntario!= "" && telefonoVoluntario!= "" && correoVoluntario!= "") {

          //alert("Se registro un numevo articulo");
          tabla = document.getElementById("cuerpoTabla");
          nuevoRegistro = document.createElement("tr");

          id = document.createElement("th");
          id.innerHTML = i +1;
          id.scope = "row";

          nombre = document.createElement("td");
          nombre.innerHTML = nombreVoluntario;
          
          apellido1 = document.createElement("td");
          apellido1.innerHTML = apellido1Voluntario;
          
          apellido2 = document.createElement("td");
          apellido2.innerHTML = apellido2Voluntario;
          
          Sexo = document.createElement("td");
          Sexo.innerHTML = SexoVoluntario
          
          curp = document.createElement("td");
          curp.innerHTML = curpVoluntario;
         
          telefono = document.createElement("td");
          telefono.innerHTML = telefonoVoluntario;
          
          correo = document.createElement("td");
          correo.innerHTML = correoVoluntario;

        

           
//ACCION DE ELIMINAR
          elimina = document.createElement("td");
          accion = document.createElement("a");
          accion.innerHTML = "Eliminar";
          accion.addEventListener("click", () => { eliminar(accion); });
          elimina.appendChild(accion);


          nuevoRegistro.appendChild(id);
          nuevoRegistro.appendChild(nombre);
          nuevoRegistro.appendChild(apellido1);
          nuevoRegistro.appendChild(apellido2);
          nuevoRegistro.appendChild(Sexo)
          nuevoRegistro.appendChild(curp)
          nuevoRegistro.appendChild(telefono)
          nuevoRegistro.appendChild(correo)
          
          nuevoRegistro.appendChild(elimina)
          tabla.appendChild(nuevoRegistro)
        }
      }
    
    }
 
    window.addEventListener("load", registrarProducto);

    function eliminar(element) {
      element.parentElement.parentElement.remove();
    }
  </script>
  <script src="js/bootstrap.js"></script>
</body>

</html>